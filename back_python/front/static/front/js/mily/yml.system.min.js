(function(window){var yml={};window.$yml=yml;yml.utils={declare:function(namespace){var attrNames=namespace.split(".");var dicNames={};var tmp=[];for(var i in attrNames){var keyName=attrNames[i];if(i==0){eval(keyName+"={}");tmp.push(keyName)}else{var prev=tmp.pop();var prevKey=prev+"['"+keyName+"']";prev=prevKey+"={}";eval(prev);tmp.push(prevKey)}}},deepCopy:function(child,parent){var c=child,p=parent;c=c||{};for(var i in p){if(typeof p[i]==="object"){c[i]=(p[i].constructor===Array)?[]:{};deepCopy(c[i],p[i])}else{c[i]=p[i]}}return c},shadowCopy:function(target,src,excludePro){for(var k in src){if(k!=excludePro){target[k]=src[k]}}},extend:function(initParams,parent,override,notExecCtor){var initParams=initParams||{};var that=this;var F=function(){};F.prototype=parent||Object.prototype;var child=new F();var override=override||{ctor:function(){}};if(override&&!override.ctor){override.ctor=function(){}}that.shadowCopy(child,override);if(parent&&parent.ctor){parent.ctor.call(child,initParams)}if(!notExecCtor){child.ctor(initParams)}child.ubber=parent;return child},deleteElementFromDictByFilter:function(dict,todel,filter){var i=0;for(var index in dict){if(filter(todel,dict[index])){i=index}}delete dict[i];return dict},deleteElementFromArrayByFilter:function(array,todel,filter){var i=0;for(var index in array){if(filter(todel,array[index])){i=index}}array.splice(i,1);return array},guid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(c){var r=Math.random()*16|0,v=c==="x"?r:(r&3|8);return v.toString(16)})},randNum:function(n){var rnd="";for(var i=0;i<n;i++){rnd+=Math.floor(Math.random()*10)}return rnd},getClientReq:function(accesstoken,dataObj){return{accessToken:accesstoken,data:accesstoken}},getServerFormatedRes:function(status,msg,data){return{status:status,msg:msg,data:data,}}};Date.prototype.format=function(format){var o={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),"S":this.getMilliseconds()};if(/(y+)/.test(format)){format=format.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))}for(var k in o){if(new RegExp("("+k+")").test(format)){format=format.replace(RegExp.$1,RegExp.$1.length==1?o[k]:("00"+o[k]).substr((""+o[k]).length))}}return format};yml.object=yml.utils.extend(null,null,{ctor:function(){},New:function(){var child=null;if(arguments.length>2){throw new Error("param number the most 2")}if(arguments.length==0){child=yml.utils.extend(null,null,null)}if(arguments.length==1){if(typeof arguments[0]!="object"){throw new Error("param must be type of object")}child=yml.utils.extend(null,this,arguments[0])}if(arguments.length==2){child=yml.utils.extend(arguments[0],this,arguments[1])}return child},Abstract:function(){var child=null;if(arguments.length>2){throw new Error("param number the most 2")}if(arguments.length==0){child=yml.utils.extend(null,null,null,true)}if(arguments.length==1){if(typeof arguments[0]!="object"){throw new Error("param must be type of object")}child=yml.utils.extend(null,this,arguments[0],true)}if(arguments.length==2){child=yml.utils.extend(arguments[0],this,arguments[1],true)}return child}})})(window);
